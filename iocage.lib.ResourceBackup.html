

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>iocage.lib.ResourceBackup module &mdash; libiocage  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="iocage.lib.ResourceSelector module" href="iocage.lib.ResourceSelector.html" />
    <link rel="prev" title="iocage.lib.Resource module" href="iocage.lib.Resource.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> libiocage
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="iocage.html">iocage package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="iocage.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="iocage.lib.html">iocage.lib package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="iocage.lib.html#subpackages">Subpackages</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="iocage.lib.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="iocage.lib.html#module-iocage.lib">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="iocage.html#module-iocage">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">libiocage</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="iocage.html">iocage package</a> &raquo;</li>
        
          <li><a href="iocage.lib.html">iocage.lib package</a> &raquo;</li>
        
      <li>iocage.lib.ResourceBackup module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/iocage.lib.ResourceBackup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-iocage.lib.ResourceBackup">
<span id="iocage-lib-resourcebackup-module"></span><h1>iocage.lib.ResourceBackup module<a class="headerlink" href="#module-iocage.lib.ResourceBackup" title="Permalink to this headline">¶</a></h1>
<p>iocage Resource extension that managed exporting and importing backups.</p>
<dl class="class">
<dt id="iocage.lib.ResourceBackup.LaunchableResourceBackup">
<em class="property">class </em><code class="descclassname">iocage.lib.ResourceBackup.</code><code class="descname">LaunchableResourceBackup</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/iocage/lib/ResourceBackup.html#LaunchableResourceBackup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#iocage.lib.ResourceBackup.LaunchableResourceBackup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create and restore backups of a LaunchableResource.</p>
<p>It is only possible to run one concurrent backup operation because this
instance uses a global temp directory that is deleted when the lock is
removed. In fact the existence of a temp directory indicates the locked
state.</p>
<dl class="method">
<dt id="iocage.lib.ResourceBackup.LaunchableResourceBackup.export">
<code class="descname">export</code><span class="sig-paren">(</span><em>destination</em>, <em>standalone=None</em>, <em>recursive=False</em>, <em>event_scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/iocage/lib/ResourceBackup.html#LaunchableResourceBackup.export"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#iocage.lib.ResourceBackup.LaunchableResourceBackup.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Export the resource.</p>
<p>Resource exports contain the jails configuration and differing files
between the jails root dataset and its release. Other datasets in the
jails dataset are snapshotted and attached to the export entirely.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>destination</strong> (<em>str</em>) – The resource is exported to this location as archive file.</li>
<li><strong>standalone</strong> (<em>bool</em>) – The default depends on whether the resource is forked from a
release or not. If there is a origin release, the export will
contain the changed files relative to the release. Enabling
this option will enforce ZFS dataset exports instead of rsync
compare-dest diffs.
Standalone exports will cause duplicated data on the importing
host, but are independent of any release.</li>
<li><strong>recursive</strong> (<em>bool</em>) – Includes snapshots of all exported ZFS datasets.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="iocage.lib.events.html#iocage.lib.events.IocageEvent" title="iocage.lib.events.IocageEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocageEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="iocage.lib.ResourceBackup.LaunchableResourceBackup.full_snapshot_name">
<code class="descname">full_snapshot_name</code><a class="headerlink" href="#iocage.lib.ResourceBackup.LaunchableResourceBackup.full_snapshot_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dataset name with the snapshot name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="iocage.lib.ResourceBackup.LaunchableResourceBackup.locked">
<code class="descname">locked</code><a class="headerlink" href="#iocage.lib.ResourceBackup.LaunchableResourceBackup.locked" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True when a temporary directory exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="iocage.lib.ResourceBackup.LaunchableResourceBackup.logger">
<code class="descname">logger</code><a class="headerlink" href="#iocage.lib.ResourceBackup.LaunchableResourceBackup.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the resources logger instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="iocage.lib.Logger.html#iocage.lib.Logger.Logger" title="iocage.lib.Logger.Logger"><code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iocage.lib.ResourceBackup.LaunchableResourceBackup.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><em>source</em>, <em>event_scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/iocage/lib/ResourceBackup.html#LaunchableResourceBackup.restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#iocage.lib.ResourceBackup.LaunchableResourceBackup.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Import a resource from an archive.</p>
<p>Resource archives created with libiocage backup export can be restored
on any host. When importing a basejail the linked release needs to
exist on the host.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>source</strong> (<em>str</em>) – The path to the exported archive file (tar.gz)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="iocage.lib.events.html#iocage.lib.events.IocageEvent" title="iocage.lib.events.IocageEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocageEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="iocage.lib.ResourceBackup.LaunchableResourceBackup.snapshot_name">
<code class="descname">snapshot_name</code><a class="headerlink" href="#iocage.lib.ResourceBackup.LaunchableResourceBackup.snapshot_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the snapshot_name that was chosen when locking.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="iocage.lib.ResourceBackup.LaunchableResourceBackup.temp_dir">
<code class="descname">temp_dir</code><a class="headerlink" href="#iocage.lib.ResourceBackup.LaunchableResourceBackup.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute path to the current temporary directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="iocage.lib.ResourceBackup.LaunchableResourceBackup.zfs">
<code class="descname">zfs</code><a class="headerlink" href="#iocage.lib.ResourceBackup.LaunchableResourceBackup.zfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the resources ZFS instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="iocage.lib.ZFS.html#iocage.lib.ZFS.ZFS" title="iocage.lib.ZFS.ZFS"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZFS</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="iocage.lib.ResourceSelector.html" class="btn btn-neutral float-right" title="iocage.lib.ResourceSelector module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="iocage.lib.Resource.html" class="btn btn-neutral" title="iocage.lib.Resource module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, iocage Authors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>