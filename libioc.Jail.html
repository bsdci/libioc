

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>libioc.Jail module &mdash; libioc 0.8.2 2019/08/10 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="libioc.JailParams module" href="libioc.JailParams.html" />
    <link rel="prev" title="libioc.IPAddress module" href="libioc.IPAddress.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> libioc
          

          
          </a>

          
            
            
              <div class="version">
                0.8.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="libioc.html">libioc package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="libioc.html#subpackages">Subpackages</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="libioc.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="libioc.BridgeInterface.html">libioc.BridgeInterface module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.CommandQueue.html">libioc.CommandQueue module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Datasets.html">libioc.Datasets module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.DevfsRules.html">libioc.DevfsRules module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Distribution.html">libioc.Distribution module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Filter.html">libioc.Filter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Firewall.html">libioc.Firewall module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Host.html">libioc.Host module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.IPAddress.html">libioc.IPAddress module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">libioc.Jail module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.JailParams.html">libioc.JailParams module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Jails.html">libioc.Jails module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.LaunchableResource.html">libioc.LaunchableResource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.ListableResource.html">libioc.ListableResource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Logger.html">libioc.Logger module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.MacAddress.html">libioc.MacAddress module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Network.html">libioc.Network module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.NetworkInterface.html">libioc.NetworkInterface module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Pkg.html">libioc.Pkg module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Prompts.html">libioc.Prompts module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Release.html">libioc.Release module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Releases.html">libioc.Releases module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Resource.html">libioc.Resource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.ResourceBackup.html">libioc.ResourceBackup module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.ResourceSelector.html">libioc.ResourceSelector module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.ResourceUpdater.html">libioc.ResourceUpdater module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.SecureTarfile.html">libioc.SecureTarfile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.Types.html">libioc.Types module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.VersionedResource.html">libioc.VersionedResource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.ZFS.html">libioc.ZFS module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.ZFSShareStorage.html">libioc.ZFSShareStorage module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.decorators.html">libioc.decorators module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.errors.html">libioc.errors module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.events.html">libioc.events module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.helpers.html">libioc.helpers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.helpers_ioctl.html">libioc.helpers_ioctl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="libioc.helpers_object.html">libioc.helpers_object module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="libioc.html#module-libioc">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">libioc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="libioc.html">libioc package</a> &raquo;</li>
        
      <li>libioc.Jail module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/libioc.Jail.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-libioc.Jail">
<span id="libioc-jail-module"></span><h1>libioc.Jail module<a class="headerlink" href="#module-libioc.Jail" title="Permalink to this headline">¶</a></h1>
<p>A Jail defines the configuration of a FreeBSD jail managed by ioc.</p>
<p>It consists of kernel state and configuration assets (config.json).</p>
<p>Configuration values are in a JailConfig, that maps the Jail configuration to
permanent disk storage. The latest version used a config.json JSON config file.
For compatibility with older versions of iocage (shell), UCL config files and
storage as ZFS properties on the jails ZFS dataset are supported as well.</p>
<p>The state of a Jail is managed by the kernel, that ioc interfaces with libc.</p>
<dl class="class">
<dt id="libioc.Jail.Jail">
<em class="property">class </em><code class="sig-prename descclassname">libioc.Jail.</code><code class="sig-name descname">Jail</code><span class="sig-paren">(</span><em class="sig-param">data={}</em>, <em class="sig-param">dataset=None</em>, <em class="sig-param">dataset_name=None</em>, <em class="sig-param">config_type='auto'</em>, <em class="sig-param">config_file=None</em>, <em class="sig-param">logger=None</em>, <em class="sig-param">zfs=None</em>, <em class="sig-param">host=None</em>, <em class="sig-param">fstab=None</em>, <em class="sig-param">root_datasets_name=None</em>, <em class="sig-param">new=False</em>, <em class="sig-param">skip_invalid_config=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#Jail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.Jail" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#libioc.Jail.JailGenerator" title="libioc.Jail.JailGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">libioc.Jail.JailGenerator</span></code></a></p>
<p>Synchronous wrapper of JailGenerator.</p>
<dl class="method">
<dt id="libioc.Jail.Jail.destroy">
<code class="sig-name descname">destroy</code><span class="sig-paren">(</span><em class="sig-param">force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#Jail.destroy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.Jail.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy a Jail and it’s datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>force</strong> (<em>bool</em>) – (default=False)
This flag enables whether an existing jail should be shut down
before destroying the dataset. By default destroying a jail
requires it to be stopped.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.Jail.fork_exec">
<code class="sig-name descname">fork_exec</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">passthru=False</em>, <em class="sig-param">event_scope=None</em>, <em class="sig-param">dependant_jails_seen=[]</em>, <em class="sig-param">start_dependant_jails=True</em>, <em class="sig-param">**temporary_config_override</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#Jail.fork_exec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.Jail.fork_exec" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a jail, run a command and shut it down immediately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<em>string</em>) – The command to execute in the jail.</p></li>
<li><p><strong>passthru</strong> (<em>bool</em>) – Execute commands in an interactive shell.</p></li>
<li><p><strong>event_scope</strong> (<a class="reference internal" href="libioc.events.html#libioc.events.Scope" title="libioc.events.Scope"><em>libioc.events.Scope</em></a>) – <p>(default=None)</p>
<p>Provide an existing libiocage event scope or automatically
create a new one instead.</p>
</p></li>
<li><p><strong>dependant_jails_seen</strong> (<em>list</em><em>[</em><em>libioc.JailGenerator</em><em>]</em>) – Jail depends can have circular dependencies. By passing a list
of already started jails to the start command, iocage does not
need to query their state, because they are known to be running
already. This argument is internally used when starting a jails
dependants recursively.</p></li>
<li><p><strong>start_dependant_jails</strong> (<em>bool</em>) – When disabled, no dependant jails will be started.</p></li>
<li><p><strong>**temporary_config_override</strong> (<em>dict</em><em>(</em><em>str</em><em>, </em><em>any</em><em>)</em>) – <p>Other named arguments temporary override JailConfig properties.</p>
<p>For example:</p>
<blockquote>
<div><p>jail = libioc.JailGenerator(“myjail”)
events = jail.fork_exec(“ifconfig”, vnet=False)
print(list(events))</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.Jail.rename">
<code class="sig-name descname">rename</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#Jail.rename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.Jail.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename the jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.Jail.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#Jail.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.Jail.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.Jail.stop">
<code class="sig-name descname">stop</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#Jail.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.Jail.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="libioc.Jail.JailGenerator">
<em class="property">class </em><code class="sig-prename descclassname">libioc.Jail.</code><code class="sig-name descname">JailGenerator</code><span class="sig-paren">(</span><em class="sig-param">data={}</em>, <em class="sig-param">dataset=None</em>, <em class="sig-param">dataset_name=None</em>, <em class="sig-param">config_type='auto'</em>, <em class="sig-param">config_file=None</em>, <em class="sig-param">logger=None</em>, <em class="sig-param">zfs=None</em>, <em class="sig-param">host=None</em>, <em class="sig-param">fstab=None</em>, <em class="sig-param">root_datasets_name=None</em>, <em class="sig-param">new=False</em>, <em class="sig-param">skip_invalid_config=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#libioc.Jail.JailResource" title="libioc.Jail.JailResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">libioc.Jail.JailResource</span></code></a></p>
<p>iocage unit orchestrates a jail’s configuration and manages state.</p>
<p>Jails are represented as a zfs dataset <code class="docutils literal notranslate"><span class="pre">zpool/iocage/jails/&lt;NAME&gt;</span></code></p>
<p>Directory Structure:</p>
<blockquote>
<div><dl class="simple">
<dt>zpool/iocage/jails/&lt;NAME&gt;:</dt><dd><p>The jail’s dataset containing it’s configuration and root dataset.
iocage-legacy used to store a jails configuration as ZFS
properties on this dataset. Even though the modern JSON config
mechanism is preferred.</p>
</dd>
<dt>zpool/iocage/jails/&lt;NAME&gt;/root:</dt><dd><p>This directory is the dataset used as jail’s root when starting a
jail. Usually the clone source of a root dataset is a snapshot of
the release’s root dataset.</p>
</dd>
<dt>zpool/iocage/jails/&lt;NAME&gt;/config.json:</dt><dd><p>Jails configured with the latest configuration style store their
information in a JSON file. When this file is found in the jail’s
dataset, libiocage assumes the jail to be a JSON-style jail and
ignores other configuration mechanisms.</p>
</dd>
<dt>zpool/iocage/jails/&lt;NAME&gt;/config:</dt><dd><p>Another compatible configuration mechanism is a UCL file. It’s
content is only taken into account if no JSON or ZFS configuration
was found.</p>
</dd>
</dl>
</div></blockquote>
<p>Jail Types:</p>
<blockquote>
<div><dl class="simple">
<dt>Standalone:</dt><dd><p>The /root dataset gets cloned from a release at creation time. It
it not affected by changes to the Release and persists all data
within the jail.</p>
</dd>
<dt>NullFS Basejail:</dt><dd><p>The fastest method to spawn a basejail by mounting read-only
directories from the release’s root dataset by creating a snapshot
of the release on each boot of the jail. When a release is
updated, the jail is updated as well on the next reboot. This type
is the one used by the Python implementation of libioc.</p>
</dd>
<dt>ZFS Basejail: Legacy basejails used to clone individual datasets from a</dt><dd><p>release (stored in <code class="docutils literal notranslate"><span class="pre">zpool/iocage/base/&lt;RELEASE&gt;</span></code>).</p>
</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="libioc.Jail.JailGenerator.clone_from_jail">
<code class="sig-name descname">clone_from_jail</code><span class="sig-paren">(</span><em class="sig-param">source_jail</em>, <em class="sig-param">event_scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.clone_from_jail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.clone_from_jail" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Jail from another Jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.clone_to_dataset">
<code class="sig-name descname">clone_to_dataset</code><span class="sig-paren">(</span><em class="sig-param">destination_dataset_name</em>, <em class="sig-param">delete_existing=False</em>, <em class="sig-param">event_scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.clone_to_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.clone_to_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Clones the jails dataset to another dataset with the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param">resource=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Jail from a given Resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resource</strong> (<a class="reference internal" href="#libioc.Jail.Jail" title="libioc.Jail.Jail"><em>Jail</em></a><em> or </em><a class="reference internal" href="libioc.Release.html#libioc.Release.Release" title="libioc.Release.Release"><em>Release</em></a>) – The (new) jail is created from this resource.
If no resource is specified, an empty dataset will be created</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.create_from_release">
<code class="sig-name descname">create_from_release</code><span class="sig-paren">(</span><em class="sig-param">release</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.create_from_release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.create_from_release" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Jail from a Release.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resource</strong> (<a class="reference internal" href="libioc.Release.html#libioc.Release.Release" title="libioc.Release.Release"><em>Release</em></a>) – The jail is created from the provided resource.
This can be either another Jail or a Release.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.create_from_scratch">
<code class="sig-name descname">create_from_scratch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.create_from_scratch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.create_from_scratch" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new jail without any root dataset content.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.create_from_template">
<code class="sig-name descname">create_from_template</code><span class="sig-paren">(</span><em class="sig-param">template</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.create_from_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.create_from_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Jail from a template Jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.destroy">
<code class="sig-name descname">destroy</code><span class="sig-paren">(</span><em class="sig-param">force=False</em>, <em class="sig-param">force_stop=False</em>, <em class="sig-param">event_scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.destroy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy a Jail and it’s datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force</strong> (<em>bool</em>) – (default=False)
This flag enables whether an existing jail should be shut down
before destroying the dataset. By default destroying a jail
requires it to be stopped.</p></li>
<li><p><strong>force_stop</strong> (<em>bool</em>) – (default=False)
A jail is force stopped when either the force_stop argument was
set or the force option was enabled and the jail is running.
When being enabled the argument invokes a full stop before
destroying the jail.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.devfs_ruleset">
<em class="property">property </em><code class="sig-name descname">devfs_ruleset</code><a class="headerlink" href="#libioc.Jail.JailGenerator.devfs_ruleset" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of the jail’s devfs ruleset.</p>
<p>When a new combination of the base ruleset specified in
jail.config[“devfs_ruleset”] and rules automatically added by iocage
appears, the according rule is automatically created and added to the
/etc/devfs.rules file on the host</p>
<p>Users may reference a rule by numeric identifier or name. This numbers
are automatically selected, so it’s advisable to use names.1</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="libioc.DevfsRules.html#libioc.DevfsRules.DevfsRuleset" title="libioc.DevfsRules.DevfsRuleset"><code class="xref py py-class docutils literal notranslate"><span class="pre">DevfsRuleset</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.env">
<em class="property">property </em><code class="sig-name descname">env</code><a class="headerlink" href="#libioc.Jail.JailGenerator.env" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the environment variables for hook scripts.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.exec">
<code class="sig-name descname">exec</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">env={}</em>, <em class="sig-param">passthru=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.exec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.exec" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a command in a running jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<em>list</em>) – <p>A list of command and it’s arguments</p>
<p>Example: [“/usr/bin/whoami”]</p>
</p></li>
<li><p><strong>env</strong> (<em>dict</em>) – The dictionary may contain env variables that will be
forwarded to the executed jail command.</p></li>
<li><p><strong>passthru</strong> (<em>bool</em>) – <p>(default=False)</p>
<p>When enabled the commands stdout and stderr are directory
forwarded to the attached terminal. The results will not be
included in the CommandOutput, so that (None, None,
&lt;returncode&gt;) is returned.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.exec_console">
<code class="sig-name descname">exec_console</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.exec_console"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.exec_console" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut to drop into a shell of a started jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.fork_exec">
<code class="sig-name descname">fork_exec</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">passthru=False</em>, <em class="sig-param">event_scope=None</em>, <em class="sig-param">start_dependant_jails=True</em>, <em class="sig-param">dependant_jails_seen=[]</em>, <em class="sig-param">env={}</em>, <em class="sig-param">**temporary_config_override</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.fork_exec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.fork_exec" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a jail, run a command and shut it down immediately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<em>string</em>) – The command to execute in the jail.</p></li>
<li><p><strong>passthru</strong> (<em>bool</em>) – Execute commands in an interactive shell.</p></li>
<li><p><strong>event_scope</strong> (<a class="reference internal" href="libioc.events.html#libioc.events.Scope" title="libioc.events.Scope"><em>libioc.events.Scope</em></a>) – <p>(default=None)</p>
<p>Provide an existing libiocage event scope or automatically
create a new one instead.</p>
</p></li>
<li><p><strong>dependant_jails_seen</strong> (<em>list</em><em>[</em><em>libioc.JailGenerator</em><em>]</em>) – Jail depends can have circular dependencies. By passing a list
of already started jails to the start command, iocage does not
need to query their state, because they are known to be running
already. This argument is internally used when starting a jails
dependants recursively.</p></li>
<li><p><strong>start_dependant_jails</strong> (<em>bool</em>) – When disabled, no dependant jails will be started.</p></li>
<li><p><strong>**temporary_config_override</strong> (<em>dict</em><em>(</em><em>str</em><em>, </em><em>any</em><em>)</em>) – <p>Other named arguments temporary override JailConfig properties.</p>
<p>For example:</p>
<blockquote>
<div><p>jail = libioc.JailGenerator(“myjail”)
events = jail.fork_exec(“ifconfig”, vnet=False)
print(list(events))</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.full_name">
<em class="property">property </em><code class="sig-name descname">full_name</code><a class="headerlink" href="#libioc.Jail.JailGenerator.full_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full identifier of a jail.</p>
<p>When more than one root dataset is managed by iocage, the full source
and name are returned. Otherwise just the name.</p>
<p>For example <cite>mydataset/jailname</cite> or just <cite>jailname</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.get_hook_script_path">
<code class="sig-name descname">get_hook_script_path</code><span class="sig-paren">(</span><em class="sig-param">hook_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.get_hook_script_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.get_hook_script_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute path to the hook script file.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.hostid_check_ok">
<em class="property">property </em><code class="sig-name descname">hostid_check_ok</code><a class="headerlink" href="#libioc.Jail.JailGenerator.hostid_check_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the hostid check passes.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.humanreadable_name">
<em class="property">property </em><code class="sig-name descname">humanreadable_name</code><a class="headerlink" href="#libioc.Jail.JailGenerator.humanreadable_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the human-readable identifier to print in logs and CLI output.</p>
<p>Whenever a Jail is found to have a UUID as identifier,
a shortened string of the first 8 characters is returned</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.identifier">
<em class="property">property </em><code class="sig-name descname">identifier</code><a class="headerlink" href="#libioc.Jail.JailGenerator.identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the jail id used in snapshots, jls, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.is_basejail">
<em class="property">property </em><code class="sig-name descname">is_basejail</code><a class="headerlink" href="#libioc.Jail.JailGenerator.is_basejail" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if a Jail is a basejail.</p>
<p>If this is the case, parts of the jails dataset will be mounted
from its release or upstream Jail (for example a Template)</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.jid">
<em class="property">property </em><code class="sig-name descname">jid</code><a class="headerlink" href="#libioc.Jail.JailGenerator.jid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a jails JID if it is running or None.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.launch_script_dir">
<em class="property">property </em><code class="sig-name descname">launch_script_dir</code><a class="headerlink" href="#libioc.Jail.JailGenerator.launch_script_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the launch-scripts directory path of the jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#libioc.Jail.JailGenerator.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the configured jail id.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.networks">
<em class="property">property </em><code class="sig-name descname">networks</code><a class="headerlink" href="#libioc.Jail.JailGenerator.networks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of a jails configured networks.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="libioc.Network.html#libioc.Network.Network" title="libioc.Network.Network"><code class="xref py py-class docutils literal notranslate"><span class="pre">Network</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.passthru">
<code class="sig-name descname">passthru</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">env=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.passthru"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.passthru" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a command in a started jail and passthrough STDIN and STDOUT.</p>
<dl>
<dt>command (list):</dt><dd><p>A list of command and it’s arguments</p>
<p>Example: [“/bin/sh”]</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.promote">
<code class="sig-name descname">promote</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.promote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.promote" title="Permalink to this definition">¶</a></dt>
<dd><p>Promote all datasets of the jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.provisioner">
<em class="property">property </em><code class="sig-name descname">provisioner</code><a class="headerlink" href="#libioc.Jail.JailGenerator.provisioner" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the jails Provisioner instance.</p>
<p>The provisioner itself is going to interpret the jails configuration
dynamically, so that the Provisioner instance can be memoized.</p>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.query_jid">
<code class="sig-name descname">query_jid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.query_jid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.query_jid" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke update of the jails JID.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.release">
<em class="property">property </em><code class="sig-name descname">release</code><a class="headerlink" href="#libioc.Jail.JailGenerator.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the libioc.Release instance linked with the jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="libioc.Release.html#libioc.Release.ReleaseGenerator" title="libioc.Release.ReleaseGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReleaseGenerator</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.release_snapshot">
<em class="property">property </em><code class="sig-name descname">release_snapshot</code><a class="headerlink" href="#libioc.Jail.JailGenerator.release_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the matching release verion snaphsot.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ZFSSnapshot</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.rename">
<code class="sig-name descname">rename</code><span class="sig-paren">(</span><em class="sig-param">new_name</em>, <em class="sig-param">event_scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.rename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the name of a jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_name</strong> (<em>str</em>) – The new name of a jail. It might not be used by another Jail
and must differ from the current name.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.require_jail_existing">
<code class="sig-name descname">require_jail_existing</code><span class="sig-paren">(</span><em class="sig-param">log_errors=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.require_jail_existing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.require_jail_existing" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise JailDoesNotExist exception if the jail does not exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.require_jail_is_template">
<code class="sig-name descname">require_jail_is_template</code><span class="sig-paren">(</span><em class="sig-param">log_errors=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.require_jail_is_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.require_jail_is_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise JailIsTemplate exception if the jail is a template.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.require_jail_match_hostid">
<code class="sig-name descname">require_jail_match_hostid</code><span class="sig-paren">(</span><em class="sig-param">log_errors=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.require_jail_match_hostid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.require_jail_match_hostid" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise JailIsTemplate exception if the jail is a template.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.require_jail_not_existing">
<code class="sig-name descname">require_jail_not_existing</code><span class="sig-paren">(</span><em class="sig-param">log_errors=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.require_jail_not_existing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.require_jail_not_existing" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise JailAlreadyExists exception if the jail already exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.require_jail_not_template">
<code class="sig-name descname">require_jail_not_template</code><span class="sig-paren">(</span><em class="sig-param">log_errors=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.require_jail_not_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.require_jail_not_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise JailIsTemplate exception if the jail is a template.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.require_jail_running">
<code class="sig-name descname">require_jail_running</code><span class="sig-paren">(</span><em class="sig-param">log_errors=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.require_jail_running"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.require_jail_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise JailNotRunning exception if the jail is stopped.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.require_jail_stopped">
<code class="sig-name descname">require_jail_stopped</code><span class="sig-paren">(</span><em class="sig-param">log_errors=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.require_jail_stopped"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.require_jail_stopped" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise JailAlreadyRunning exception if the jail is running.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.require_storage_backend">
<code class="sig-name descname">require_storage_backend</code><span class="sig-paren">(</span><em class="sig-param">log_errors=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.require_storage_backend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.require_storage_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise if the jail was not initialized with a storage backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.restart">
<code class="sig-name descname">restart</code><span class="sig-paren">(</span><em class="sig-param">shutdown=False</em>, <em class="sig-param">force=False</em>, <em class="sig-param">event_scope=None</em>, <em class="sig-param">env={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.restart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.restart" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart the jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.running">
<em class="property">property </em><code class="sig-name descname">running</code><a class="headerlink" href="#libioc.Jail.JailGenerator.running" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if a jail is running.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Permanently save a jail’s configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.script_env_path">
<em class="property">property </em><code class="sig-name descname">script_env_path</code><a class="headerlink" href="#libioc.Jail.JailGenerator.script_env_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute path to the jail script env file.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param">quick=False</em>, <em class="sig-param">passthru=False</em>, <em class="sig-param">single_command=None</em>, <em class="sig-param">event_scope=None</em>, <em class="sig-param">dependant_jails_seen=[]</em>, <em class="sig-param">start_dependant_jails=True</em>, <em class="sig-param">env={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quick</strong> (<em>bool</em>) – Skip several operations that are not required when a jail
was unchanged since its last start (for example when restarting
it).</p></li>
<li><p><strong>passthru</strong> (<em>bool</em>) – Execute commands in an interactive shell.</p></li>
<li><p><strong>single_command</strong> (<em>str</em>) – When set the jail is launched non-persistent. The startup cycle
reduces to the <cite>prestart</cite>, <cite>command</cite> and <cite>poststop</cite> hooks with
the singe_command being executed in a /bin/sh context.</p></li>
<li><p><strong>event_scope</strong> (<a class="reference internal" href="libioc.events.html#libioc.events.Scope" title="libioc.events.Scope"><em>libioc.events.Scope</em></a>) – <p>(default=None)</p>
<p>Provide an existing libiocage event scope or automatically
create a new one instead.</p>
</p></li>
<li><p><strong>dependant_jails_seen</strong> (<em>list</em><em>[</em><em>libioc.JailGenerator</em><em>]</em>) – Jail depends can have circular dependencies. By passing a list
of already started jails to the start command, iocage does not
need to query their state, because they are known to be running
already. This argument is internally used when starting a jails
dependants recursively.</p></li>
<li><p><strong>start_dependant_jails</strong> (<em>bool</em>) – When disabled, no dependant jails will be started.</p></li>
<li><p><strong>env</strong> (<em>dict</em>) – Environment variables that are available in all jail hooks.
Existing environment variables (provided by the system or ioc)
can be overridden with entries in this dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.stop">
<code class="sig-name descname">stop</code><span class="sig-paren">(</span><em class="sig-param">force=False</em>, <em class="sig-param">event_scope=None</em>, <em class="sig-param">log_errors=True</em>, <em class="sig-param">env={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailGenerator.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailGenerator.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop a jail.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force</strong> (<em>bool</em>) – <p>(default=False)</p>
<p>Ignores failures and enforces teardown if True.</p>
</p></li>
<li><p><strong>event_scope</strong> (<a class="reference internal" href="libioc.events.html#libioc.events.Scope" title="libioc.events.Scope"><em>libioc.events.Scope</em></a>) – <p>(default=None)</p>
<p>Provide an existing libiocage event scope or automatically
create a new one instead.</p>
</p></li>
<li><p><strong>log_errors</strong> (<em>bool</em>) – <p>(default=True)</p>
<p>When disabled errors are not passed to the logger. This is
useful in scripted contexts when then stop operation was
executed to enforce a defined jail state.</p>
</p></li>
<li><p><strong>env</strong> (<em>dict</em>) – Environment variables that are available in all jail hooks.
Existing environment variables (provided by the system or ioc)
can be overridden with entries in this dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="libioc.events.html#libioc.events.IocEvent" title="libioc.events.IocEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.stopped">
<em class="property">property </em><code class="sig-name descname">stopped</code><a class="headerlink" href="#libioc.Jail.JailGenerator.stopped" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if a jail is stopped.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailGenerator.storage_backend">
<em class="property">property </em><code class="sig-name descname">storage_backend</code><a class="headerlink" href="#libioc.Jail.JailGenerator.storage_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the jail storage abstraction class.</p>
<p>Returns the class that represents the jails storage backend according
to its configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="libioc.Storage.html#libioc.Storage.Storage" title="libioc.Storage.Storage"><code class="xref py py-class docutils literal notranslate"><span class="pre">Storage</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="libioc.Jail.JailResource">
<em class="property">class </em><code class="sig-prename descclassname">libioc.Jail.</code><code class="sig-name descname">JailResource</code><span class="sig-paren">(</span><em class="sig-param">jail</em>, <em class="sig-param">dataset=None</em>, <em class="sig-param">dataset_name=None</em>, <em class="sig-param">config_type='auto'</em>, <em class="sig-param">config_file=None</em>, <em class="sig-param">logger=None</em>, <em class="sig-param">zfs=None</em>, <em class="sig-param">host=None</em>, <em class="sig-param">fstab=None</em>, <em class="sig-param">root_datasets_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailResource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailResource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="libioc.LaunchableResource.html#libioc.LaunchableResource.LaunchableResource" title="libioc.LaunchableResource.LaunchableResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">libioc.LaunchableResource.LaunchableResource</span></code></a>, <a class="reference internal" href="libioc.VersionedResource.html#libioc.VersionedResource.VersionedResource" title="libioc.VersionedResource.VersionedResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">libioc.VersionedResource.VersionedResource</span></code></a></p>
<p>Resource that represents a jail.</p>
<dl class="method">
<dt id="libioc.Jail.JailResource.autoset_dataset_name">
<code class="sig-name descname">autoset_dataset_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailResource.autoset_dataset_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailResource.autoset_dataset_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically determine and set the dataset_name.</p>
<p>When a jail was created with the new attribute enabled, the dataset
might not exist, so that a dataset_name lookup would fail. Calling this
method sets the jails dataset_name to a child dataset of the hosts
jails dataset with the jails name.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailResource.dataset_name">
<em class="property">property </em><code class="sig-name descname">dataset_name</code><a class="headerlink" href="#libioc.Jail.JailResource.dataset_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the jail base ZFS dataset.</p>
<p>If the resource has no dataset or dataset_name assigned yet,
the jail id is used to find name the dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailResource.fstab">
<em class="property">property </em><code class="sig-name descname">fstab</code><a class="headerlink" href="#libioc.Jail.JailResource.fstab" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoized fstab wrapper of a Jail.</p>
<p>The fstab file is stored in the top level of a Jails dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="libioc.Config.Jail.File.Fstab.html#libioc.Config.Jail.File.Fstab.JailFstab" title="libioc.Config.Jail.File.Fstab.JailFstab"><code class="xref py py-class docutils literal notranslate"><span class="pre">JailFstab</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailResource.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailResource.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailResource.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a config value from the jail or defer to its resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailResource.getstring">
<code class="sig-name descname">getstring</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libioc/Jail.html#JailResource.getstring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libioc.Jail.JailResource.getstring" title="Permalink to this definition">¶</a></dt>
<dd><p>Get any resource property as string or ‘-‘.</p>
<p>Returns the string value, or an empty string in case of an unknown user
config property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>string</em>) – Name of the jail property to return</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailResource.jail">
<em class="property">property </em><code class="sig-name descname">jail</code><a class="headerlink" href="#libioc.Jail.JailResource.jail" title="Permalink to this definition">¶</a></dt>
<dd><p>Jail instance that belongs to the resource.</p>
<p>Usually the resource becomes inherited from the jail itself.
It can still be used linked to a foreign jail by passing jail as
named attribute to the __init__ function</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#libioc.Jail.JailGenerator" title="libioc.Jail.JailGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">JailGenerator</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libioc.Jail.JailResource.source">
<em class="property">property </em><code class="sig-name descname">source</code><a class="headerlink" href="#libioc.Jail.JailResource.source" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the jails source root datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="libioc.JailParams.html" class="btn btn-neutral float-right" title="libioc.JailParams module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="libioc.IPAddress.html" class="btn btn-neutral float-left" title="libioc.IPAddress module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2019, Stefan Grönke

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>