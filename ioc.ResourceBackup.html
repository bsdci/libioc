

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ioc.ResourceBackup module &mdash; ioc 0.4.1 2019/01/05 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ioc.ResourceSelector module" href="ioc.ResourceSelector.html" />
    <link rel="prev" title="ioc.Resource module" href="ioc.Resource.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ioc
          

          
          </a>

          
            
            
              <div class="version">
                0.4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="ioc.html">ioc package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ioc.html#subpackages">Subpackages</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="ioc.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ioc.BridgeInterface.html">ioc.BridgeInterface module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.CommandQueue.html">ioc.CommandQueue module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Datasets.html">ioc.Datasets module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.DevfsRules.html">ioc.DevfsRules module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Distribution.html">ioc.Distribution module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Filter.html">ioc.Filter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Firewall.html">ioc.Firewall module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Host.html">ioc.Host module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.IPAddress.html">ioc.IPAddress module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Jail.html">ioc.Jail module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.JailState.html">ioc.JailState module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Jails.html">ioc.Jails module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.LaunchableResource.html">ioc.LaunchableResource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.ListableResource.html">ioc.ListableResource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Logger.html">ioc.Logger module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.MacAddress.html">ioc.MacAddress module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Network.html">ioc.Network module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.NetworkInterface.html">ioc.NetworkInterface module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Pkg.html">ioc.Pkg module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Prompts.html">ioc.Prompts module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Release.html">ioc.Release module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Releases.html">ioc.Releases module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Resource.html">ioc.Resource module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ioc.ResourceBackup module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.ResourceSelector.html">ioc.ResourceSelector module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.ResourceUpdater.html">ioc.ResourceUpdater module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.SecureTarfile.html">ioc.SecureTarfile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.Types.html">ioc.Types module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.VersionedResource.html">ioc.VersionedResource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.ZFS.html">ioc.ZFS module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.ZFSShareStorage.html">ioc.ZFSShareStorage module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.decorators.html">ioc.decorators module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.errors.html">ioc.errors module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.events.html">ioc.events module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.helpers.html">ioc.helpers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.helpers_ioctl.html">ioc.helpers_ioctl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ioc.helpers_object.html">ioc.helpers_object module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ioc.html#module-ioc">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ioc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="ioc.html">ioc package</a> &raquo;</li>
        
      <li>ioc.ResourceBackup module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/ioc.ResourceBackup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ioc.ResourceBackup">
<span id="ioc-resourcebackup-module"></span><h1>ioc.ResourceBackup module<a class="headerlink" href="#module-ioc.ResourceBackup" title="Permalink to this headline">¶</a></h1>
<p>iocage Resource extension that managed exporting and importing backups.</p>
<dl class="class">
<dt id="ioc.ResourceBackup.LaunchableResourceBackup">
<em class="property">class </em><code class="descclassname">ioc.ResourceBackup.</code><code class="descname">LaunchableResourceBackup</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ioc/ResourceBackup.html#LaunchableResourceBackup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioc.ResourceBackup.LaunchableResourceBackup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create and restore backups of a LaunchableResource.</p>
<p>It is only possible to run one concurrent backup operation because this
instance uses a global temp directory that is deleted when the lock is
removed. In fact the existence of a temp directory indicates the locked
state.</p>
<dl class="method">
<dt id="ioc.ResourceBackup.LaunchableResourceBackup.export">
<code class="descname">export</code><span class="sig-paren">(</span><em>destination</em>, <em>standalone=None</em>, <em>recursive=False</em>, <em>event_scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ioc/ResourceBackup.html#LaunchableResourceBackup.export"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioc.ResourceBackup.LaunchableResourceBackup.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Export the resource.</p>
<p>Resource exports contain the jails configuration and differing files
between the jails root dataset and its release. Other datasets in the
jails dataset are snapshotted and attached to the export entirely.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>destination</strong> (<em>str</em>) – The resource is exported to this location as archive file.</li>
<li><strong>standalone</strong> (<em>bool</em>) – The default depends on whether the resource is forked from a
release or not. If there is a origin release, the export will
contain the changed files relative to the release. Enabling
this option will enforce ZFS dataset exports instead of rsync
compare-dest diffs.
Standalone exports will cause duplicated data on the importing
host, but are independent of any release.</li>
<li><strong>recursive</strong> (<em>bool</em>) – Includes snapshots of all exported ZFS datasets.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="ioc.events.html#ioc.events.IocageEvent" title="ioc.events.IocageEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocageEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ioc.ResourceBackup.LaunchableResourceBackup.full_snapshot_name">
<code class="descname">full_snapshot_name</code><a class="headerlink" href="#ioc.ResourceBackup.LaunchableResourceBackup.full_snapshot_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dataset name with the snapshot name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ioc.ResourceBackup.LaunchableResourceBackup.locked">
<code class="descname">locked</code><a class="headerlink" href="#ioc.ResourceBackup.LaunchableResourceBackup.locked" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True when a temporary directory exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ioc.ResourceBackup.LaunchableResourceBackup.logger">
<code class="descname">logger</code><a class="headerlink" href="#ioc.ResourceBackup.LaunchableResourceBackup.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the resources logger instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="ioc.Logger.html#ioc.Logger.Logger" title="ioc.Logger.Logger"><code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ioc.ResourceBackup.LaunchableResourceBackup.restore">
<code class="descname">restore</code><span class="sig-paren">(</span><em>source</em>, <em>event_scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ioc/ResourceBackup.html#LaunchableResourceBackup.restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ioc.ResourceBackup.LaunchableResourceBackup.restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Import a resource from an archive.</p>
<p>Resource archives created with libiocage backup export can be restored
on any host. When importing a basejail the linked release needs to
exist on the host.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>source</strong> (<em>str</em>) – The path to the exported archive file (tar.gz)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code>[<a class="reference internal" href="ioc.events.html#ioc.events.IocageEvent" title="ioc.events.IocageEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">IocageEvent</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ioc.ResourceBackup.LaunchableResourceBackup.snapshot_name">
<code class="descname">snapshot_name</code><a class="headerlink" href="#ioc.ResourceBackup.LaunchableResourceBackup.snapshot_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the snapshot_name that was chosen when locking.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ioc.ResourceBackup.LaunchableResourceBackup.work_dir">
<code class="descname">work_dir</code><a class="headerlink" href="#ioc.ResourceBackup.LaunchableResourceBackup.work_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute path to the current temporary directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ioc.ResourceBackup.LaunchableResourceBackup.zfs">
<code class="descname">zfs</code><a class="headerlink" href="#ioc.ResourceBackup.LaunchableResourceBackup.zfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the resources ZFS instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="ioc.ZFS.html#ioc.ZFS.ZFS" title="ioc.ZFS.ZFS"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZFS</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ioc.ResourceSelector.html" class="btn btn-neutral float-right" title="ioc.ResourceSelector module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ioc.Resource.html" class="btn btn-neutral" title="ioc.Resource module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2019, Stefan Grönke.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.4.1 2019/01/05',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>